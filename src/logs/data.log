SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Q58GCrbEWRNFlu1gAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Q58GCrbEWRNFlu1gAAAF"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Q58GCrbEWRNFlu1gAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Uvl-W0R4Fr1rCft6AAAH"
   ]
}
========== GET QUERY  ============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Uvl-W0R4Fr1rCft6AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Q58GCrbEWRNFlu1gAAAF"
}
========== CANCEL CALL ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "klx0lUj8JLmi6x0RAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "klx0lUj8JLmi6x0RAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "klx0lUj8JLmi6x0RAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "68czNohbqIeffDH5AAAH"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "68czNohbqIeffDH5AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "klx0lUj8JLmi6x0RAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "68czNohbqIeffDH5AAAH"
   ]
}
========== ME JOIN ============
{
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "68czNohbqIeffDH5AAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "68czNohbqIeffDH5AAAH",
   "cST9ets8THaneDPKAAAJ"
]
{
   "private_room": [
      "68czNohbqIeffDH5AAAH"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "V_lodA4oNGYdlDvSAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "V_lodA4oNGYdlDvSAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "V_lodA4oNGYdlDvSAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "xXBPjxmy9RVO89r8AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xXBPjxmy9RVO89r8AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "V_lodA4oNGYdlDvSAAAF"
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sLQi93CaYBSOTuFnAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "sLQi93CaYBSOTuFnAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sLQi93CaYBSOTuFnAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "5U3xSh1yLLn6CyOfAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "5U3xSh1yLLn6CyOfAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "sLQi93CaYBSOTuFnAAAF"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "5U3xSh1yLLn6CyOfAAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "OegakfHRrqU2Dr1pAAAJ"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "OegakfHRrqU2Dr1pAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "cbJVsPpsTevyG5MvAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "OegakfHRrqU2Dr1pAAAJ"
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
[
   "OegakfHRrqU2Dr1pAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "cbJVsPpsTevyG5MvAAAL"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "-6NtPRz7-eO33vswAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "cbJVsPpsTevyG5MvAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "-6NtPRz7-eO33vswAAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "MwY7oMEeAfXRmYECAAAP"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "-6NtPRz7-eO33vswAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname  FROM dtb_users  WHERE  id = b25b69b2-f526-43e6-8c12-6bb0c9760ae8
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname  FROM dtb_users  WHERE  id = b25b69b2-f526-43e6-8c12-6bb0c9760ae8
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "AcwN2xvuk98qMCPAAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "AcwN2xvuk98qMCPAAAAF"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "AcwN2xvuk98qMCPAAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "pPD_2KPxCx5daMU9AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "pPD_2KPxCx5daMU9AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i8iS7jkmWWIQh_lmAAAC"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "i8iS7jkmWWIQh_lmAAAC"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i8iS7jkmWWIQh_lmAAAC"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "DcKcASnv6SdOauviAAAE"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "DcKcASnv6SdOauviAAAE"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "8-3qhBTm4QLZSrf6AAAF"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "8-3qhBTm4QLZSrf6AAAF"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "8-3qhBTm4QLZSrf6AAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "q_bUhXiST5HoUlBoAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "q_bUhXiST5HoUlBoAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
========== CANCEL CALL ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "q_bUhXiST5HoUlBoAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "q_bUhXiST5HoUlBoAAAH"
}
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "o601Fvfr_88QFW5qAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "o601Fvfr_88QFW5qAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "o601Fvfr_88QFW5qAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "UdqXLvwAeYgCR56BAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "UdqXLvwAeYgCR56BAAAH"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "eS2QgYsQjtFi6Iw8AAAF"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "eS2QgYsQjtFi6Iw8AAAF"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "N3bpDEk1pw6d2hYqAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "N3bpDEk1pw6d2hYqAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "N3bpDEk1pw6d2hYqAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "gJD32LINO0Cv4CePAAAH"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "gJD32LINO0Cv4CePAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "N3bpDEk1pw6d2hYqAAAF"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "gJD32LINO0Cv4CePAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "NjcYMfgR8MLwKT5HAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "NjcYMfgR8MLwKT5HAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= GET SOCKET ============
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
[
   "gJD32LINO0Cv4CePAAAH"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "-B2D-ZFXLpRRiLztAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "-B2D-ZFXLpRRiLztAAAL"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "D0hsJPFOXxUjdwogAAAN"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "ucWEbNudi5xjaCfBAAAF"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ucWEbNudi5xjaCfBAAAF"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
========== GET QUERY  ============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "ucWEbNudi5xjaCfBAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "eKCuzbU5TIpv3360AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "eKCuzbU5TIpv3360AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "uCuX2uf622iEUczJAAAF"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "uCuX2uf622iEUczJAAAF"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "uCuX2uf622iEUczJAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xqn4phdcDq6iHRpxAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xqn4phdcDq6iHRpxAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "6jujUziLQXhVkPIpAAAF"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "6jujUziLQXhVkPIpAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "6jujUziLQXhVkPIpAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "vriF9a4mfc82m4NJAAAH"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "vriF9a4mfc82m4NJAAAH"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JkTqSM9AIKOAzARoAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "JkTqSM9AIKOAzARoAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JkTqSM9AIKOAzARoAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "EmA8py-a7a9fLneWAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "EmA8py-a7a9fLneWAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "hHjpx7-0gBjNC0SxAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "hHjpx7-0gBjNC0SxAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "hHjpx7-0gBjNC0SxAAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Lf8PSP63nAfBnPjXAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Lf8PSP63nAfBnPjXAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "hHjpx7-0gBjNC0SxAAAF"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "Lf8PSP63nAfBnPjXAAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "TVeocAOrkR17soqMAAAJ"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TVeocAOrkR17soqMAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "6vRjujVu1BX6IdCYAAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "TVeocAOrkR17soqMAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TVeocAOrkR17soqMAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "6vRjujVu1BX6IdCYAAAL"
   ]
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TVeocAOrkR17soqMAAAJ",
      "ENhDMoLrKrjXjYE5AAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "6vRjujVu1BX6IdCYAAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "TVeocAOrkR17soqMAAAJ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "6vRjujVu1BX6IdCYAAAL",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "TVeocAOrkR17soqMAAAJ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "6vRjujVu1BX6IdCYAAAL",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "6vRjujVu1BX6IdCYAAAL",
   "nzKMYY0szE_nKEWEAAAO"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "6vRjujVu1BX6IdCYAAAL"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XxOr68oeUAPjvtZsAAAH"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XxOr68oeUAPjvtZsAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XxOr68oeUAPjvtZsAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "P0Eo8vzf2R7hMJVbAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "P0Eo8vzf2R7hMJVbAAAJ"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XxOr68oeUAPjvtZsAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "P0Eo8vzf2R7hMJVbAAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XxOr68oeUAPjvtZsAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "P0Eo8vzf2R7hMJVbAAAJ",
      "PhVm43ToDZ1ZdpW3AAAM"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XxOr68oeUAPjvtZsAAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "P0Eo8vzf2R7hMJVbAAAJ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XxOr68oeUAPjvtZsAAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "P0Eo8vzf2R7hMJVbAAAJ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "P0Eo8vzf2R7hMJVbAAAJ",
   "PhVm43ToDZ1ZdpW3AAAM"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "P0Eo8vzf2R7hMJVbAAAJ"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "XxOr68oeUAPjvtZsAAAH",
   "WBkKYqs9ZNeHWGEuAAAN"
]
{
   "private_room": [
      "XxOr68oeUAPjvtZsAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "XxOr68oeUAPjvtZsAAAH"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "P0Eo8vzf2R7hMJVbAAAJ"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Xv3G7BCxAJdOytxRAAAP"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "3-7MtjS7u5tfCve6AAAR"
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Xv3G7BCxAJdOytxRAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm3' and password = '123'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Xv3G7BCxAJdOytxRAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3-7MtjS7u5tfCve6AAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "VHDimQbT53diVA7IAAAT"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "VHDimQbT53diVA7IAAAT"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
========== CANCEL CALL ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Xv3G7BCxAJdOytxRAAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Xv3G7BCxAJdOytxRAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3-7MtjS7u5tfCve6AAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "VHDimQbT53diVA7IAAAT"
   ]
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Xv3G7BCxAJdOytxRAAAP",
      "pSy7yb3PGpUjW3cMAAAW"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3-7MtjS7u5tfCve6AAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "VHDimQbT53diVA7IAAAT"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Xv3G7BCxAJdOytxRAAAP",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "VHDimQbT53diVA7IAAAT",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Xv3G7BCxAJdOytxRAAAP",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "VHDimQbT53diVA7IAAAT",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
========== ME JOIN ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
[
   "Xv3G7BCxAJdOytxRAAAP",
   "pSy7yb3PGpUjW3cMAAAW"
]
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "Xv3G7BCxAJdOytxRAAAP"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "VHDimQbT53diVA7IAAAT",
   "NnTBjyF--NXuABBoAAAX"
]
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "VHDimQbT53diVA7IAAAT"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "VHDimQbT53diVA7IAAAT"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
[
   "Xv3G7BCxAJdOytxRAAAP"
]
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3-7MtjS7u5tfCve6AAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Oy4gYCqo5ydXsb82AAAZ"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= GET SOCKET ============
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "3-7MtjS7u5tfCve6AAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Oy4gYCqo5ydXsb82AAAZ"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ZQ-hrX1-lcEfr1MpAAAb"
}
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ZQ-hrX1-lcEfr1MpAAAb"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Oy4gYCqo5ydXsb82AAAZ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "GUAxyPwQJ8cqDFHeAAAd"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ZQ-hrX1-lcEfr1MpAAAb"
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Va2bYj733wH2Yfc0AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Va2bYj733wH2Yfc0AAAH"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Va2bYj733wH2Yfc0AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sWGruNfbc8L7-hQkAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "sWGruNfbc8L7-hQkAAAJ"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Va2bYj733wH2Yfc0AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sWGruNfbc8L7-hQkAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "cN_wkkpf96SoEOHKAAAL"
   ]
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "cN_wkkpf96SoEOHKAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Va2bYj733wH2Yfc0AAAH"
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xjqjRFh8W4c3FUGGAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "_CcKCQDAvI6oKj-NAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_CcKCQDAvI6oKj-NAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "_CcKCQDAvI6oKj-NAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "3vWPk6SXyv0kzhmdAAAL"
   ]
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "3vWPk6SXyv0kzhmdAAAL"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== CANCEL CALL ============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xjqjRFh8W4c3FUGGAAAH"
}
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "_CcKCQDAvI6oKj-NAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "3vWPk6SXyv0kzhmdAAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "_CcKCQDAvI6oKj-NAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "3vWPk6SXyv0kzhmdAAAL",
      "254pSPPNqKB5fWgFAAAP"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "xjqjRFh8W4c3FUGGAAAH",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "3vWPk6SXyv0kzhmdAAAL",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "xjqjRFh8W4c3FUGGAAAH",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "3vWPk6SXyv0kzhmdAAAL",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "3vWPk6SXyv0kzhmdAAAL",
   "254pSPPNqKB5fWgFAAAP"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "3vWPk6SXyv0kzhmdAAAL"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "xjqjRFh8W4c3FUGGAAAH",
   "kTWBjYTraFSmCtNpAAAO"
]
{
   "private_room": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "_CcKCQDAvI6oKj-NAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "3vWPk6SXyv0kzhmdAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "3ft2NV7zwv1AuyUbAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "3vWPk6SXyv0kzhmdAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3ft2NV7zwv1AuyUbAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "IPGSTxGx5XRn51GpAAAT"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3ft2NV7zwv1AuyUbAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "IPGSTxGx5XRn51GpAAAT"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "xjqjRFh8W4c3FUGGAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH",
      "BsJ-6PT4aQ4GScNsAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3ft2NV7zwv1AuyUbAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "IPGSTxGx5XRn51GpAAAT"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "xjqjRFh8W4c3FUGGAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "3ft2NV7zwv1AuyUbAAAR",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "xjqjRFh8W4c3FUGGAAAH",
      "BsJ-6PT4aQ4GScNsAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "3ft2NV7zwv1AuyUbAAAR",
      "jwATtdYJdtlAwuyjAAAX"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "IPGSTxGx5XRn51GpAAAT"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "xjqjRFh8W4c3FUGGAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "3ft2NV7zwv1AuyUbAAAR",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "IPGSTxGx5XRn51GpAAAT",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "3ft2NV7zwv1AuyUbAAAR",
   "jwATtdYJdtlAwuyjAAAX"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "3ft2NV7zwv1AuyUbAAAR"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "IPGSTxGx5XRn51GpAAAT",
   "Jto4T0m-1voPYX-9AAAZ"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "IPGSTxGx5XRn51GpAAAT"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= DATA DISCONNECT TOP ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= GET SOCKET ============
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "xjqjRFh8W4c3FUGGAAAH",
   "BsJ-6PT4aQ4GScNsAAAV"
]
{
   "private_room": [
      "xjqjRFh8W4c3FUGGAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= DATA DISCONNECT TOP ============
[
   "xjqjRFh8W4c3FUGGAAAH"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "3ft2NV7zwv1AuyUbAAAR"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "IPGSTxGx5XRn51GpAAAT"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "JbA91-_8nNOo_I38AAAb"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "IPGSTxGx5XRn51GpAAAT"
]
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JbA91-_8nNOo_I38AAAb"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "fCZRwmP1Ar9--uCTAAAd"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JbA91-_8nNOo_I38AAAb"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "fCZRwmP1Ar9--uCTAAAd"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "UaZmOEZaQDIFoltAAAAf"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JbA91-_8nNOo_I38AAAb"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "fCZRwmP1Ar9--uCTAAAd"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UaZmOEZaQDIFoltAAAAf"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "JbA91-_8nNOo_I38AAAb",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JbA91-_8nNOo_I38AAAb",
      "YIR1fsljldlI9kTLAAAh"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "fCZRwmP1Ar9--uCTAAAd"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UaZmOEZaQDIFoltAAAAf"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "JbA91-_8nNOo_I38AAAb",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "fCZRwmP1Ar9--uCTAAAd",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "JbA91-_8nNOo_I38AAAb",
      "YIR1fsljldlI9kTLAAAh"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "fCZRwmP1Ar9--uCTAAAd",
      "qg8zL9lbmuWGh7JVAAAj"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UaZmOEZaQDIFoltAAAAf"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "JbA91-_8nNOo_I38AAAb",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "fCZRwmP1Ar9--uCTAAAd",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "UaZmOEZaQDIFoltAAAAf",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
======== CHECK PRIVATE ROOM =========
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "UaZmOEZaQDIFoltAAAAf",
   "UT6pLT-4YRshsvOuAAAl"
]
============= DATA DISCONNECT TOP ============
============= ROOM NAME ============
{
   "private_room": [
      "UaZmOEZaQDIFoltAAAAf"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= GET SOCKET ============
[
   "fCZRwmP1Ar9--uCTAAAd",
   "qg8zL9lbmuWGh7JVAAAj"
]
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "fCZRwmP1Ar9--uCTAAAd"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8qsZptiAOlSUHcxrAAAJ"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "8qsZptiAOlSUHcxrAAAJ"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8qsZptiAOlSUHcxrAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KaSHXsg-mxCEWXA8AAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "KaSHXsg-mxCEWXA8AAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8qsZptiAOlSUHcxrAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KaSHXsg-mxCEWXA8AAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "nmy_0pvbIgb2VmTOAAAN"
   ]
}
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "nmy_0pvbIgb2VmTOAAAN"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8qsZptiAOlSUHcxrAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KaSHXsg-mxCEWXA8AAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "nmy_0pvbIgb2VmTOAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "8qsZptiAOlSUHcxrAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8qsZptiAOlSUHcxrAAAJ",
      "CTW6_X7paR2MYQUkAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KaSHXsg-mxCEWXA8AAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "nmy_0pvbIgb2VmTOAAAN"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "8qsZptiAOlSUHcxrAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "KaSHXsg-mxCEWXA8AAAL",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8qsZptiAOlSUHcxrAAAJ",
      "CTW6_X7paR2MYQUkAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KaSHXsg-mxCEWXA8AAAL",
      "gK9sjUum0osee67KAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "nmy_0pvbIgb2VmTOAAAN"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "8qsZptiAOlSUHcxrAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "KaSHXsg-mxCEWXA8AAAL",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "nmy_0pvbIgb2VmTOAAAN",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "nmy_0pvbIgb2VmTOAAAN",
   "PcIGeGJnbthfoz06AAAT"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "nmy_0pvbIgb2VmTOAAAN"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= GET SOCKET ============
[
   "KaSHXsg-mxCEWXA8AAAL",
   "gK9sjUum0osee67KAAAR"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "KaSHXsg-mxCEWXA8AAAL"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8N7Em3djwl8jo4PjAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "8N7Em3djwl8jo4PjAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8N7Em3djwl8jo4PjAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "XS1d-Mq5z17pyYW4AAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XS1d-Mq5z17pyYW4AAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "chF_InPCW7XVRyZuAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "chF_InPCW7XVRyZuAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "chF_InPCW7XVRyZuAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rONED7qIs_zN8ZYlAAAJ"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "rONED7qIs_zN8ZYlAAAJ"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "chF_InPCW7XVRyZuAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rONED7qIs_zN8ZYlAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "g8uyUcLgOI4nz-H4AAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "g8uyUcLgOI4nz-H4AAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "chF_InPCW7XVRyZuAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rONED7qIs_zN8ZYlAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "g8uyUcLgOI4nz-H4AAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "chF_InPCW7XVRyZuAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "chF_InPCW7XVRyZuAAAH",
      "EcIYKAbajMdTWnDaAAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rONED7qIs_zN8ZYlAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "g8uyUcLgOI4nz-H4AAAL"
   ]
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "chF_InPCW7XVRyZuAAAH",
      "EcIYKAbajMdTWnDaAAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rONED7qIs_zN8ZYlAAAJ",
      "fe8wsdfIJG4TDuMyAAAQ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "g8uyUcLgOI4nz-H4AAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "chF_InPCW7XVRyZuAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "rONED7qIs_zN8ZYlAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "g8uyUcLgOI4nz-H4AAAL",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "chF_InPCW7XVRyZuAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "rONED7qIs_zN8ZYlAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "g8uyUcLgOI4nz-H4AAAL",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "g8uyUcLgOI4nz-H4AAAL",
   "6Rm27S2_RnlPSKZjAAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "g8uyUcLgOI4nz-H4AAAL"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "rONED7qIs_zN8ZYlAAAJ",
   "fe8wsdfIJG4TDuMyAAAQ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "rONED7qIs_zN8ZYlAAAJ"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "chF_InPCW7XVRyZuAAAH",
   "EcIYKAbajMdTWnDaAAAN"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "chF_InPCW7XVRyZuAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "W2q6kDvX_z0UBcKyAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "W2q6kDvX_z0UBcKyAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "W2q6kDvX_z0UBcKyAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "PULjRh7IoS8CK46nAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "PULjRh7IoS8CK46nAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "W2q6kDvX_z0UBcKyAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "PULjRh7IoS8CK46nAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "ZpMLQM26MaVtycqrAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ZpMLQM26MaVtycqrAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "W2q6kDvX_z0UBcKyAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "PULjRh7IoS8CK46nAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "ZpMLQM26MaVtycqrAAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "W2q6kDvX_z0UBcKyAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "W2q6kDvX_z0UBcKyAAAH",
      "Vx_PI3eaindVCvhMAAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "PULjRh7IoS8CK46nAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "ZpMLQM26MaVtycqrAAAL"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "W2q6kDvX_z0UBcKyAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "PULjRh7IoS8CK46nAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "W2q6kDvX_z0UBcKyAAAH",
      "Vx_PI3eaindVCvhMAAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "PULjRh7IoS8CK46nAAAJ",
      "9HgHdtBfsAX3rxj5AAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "ZpMLQM26MaVtycqrAAAL"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "W2q6kDvX_z0UBcKyAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "PULjRh7IoS8CK46nAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "ZpMLQM26MaVtycqrAAAL",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "W2q6kDvX_z0UBcKyAAAH",
   "Vx_PI3eaindVCvhMAAAN"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "W2q6kDvX_z0UBcKyAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= ROOM NAME ============
============= GET SOCKET ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
======== CHECK PRIVATE ROOM =========
[
   "ZpMLQM26MaVtycqrAAAL",
   "0NnxmmqfMga_XfH5AAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "ZpMLQM26MaVtycqrAAAL"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "PULjRh7IoS8CK46nAAAJ",
   "9HgHdtBfsAX3rxj5AAAP"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "PULjRh7IoS8CK46nAAAJ"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "P9IMaQYvlk6lj3QXAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "P9IMaQYvlk6lj3QXAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "P9IMaQYvlk6lj3QXAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "AOJZKOpbuFXBmAl8AAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "AOJZKOpbuFXBmAl8AAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "P9IMaQYvlk6lj3QXAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "AOJZKOpbuFXBmAl8AAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "dtL16FgJXXfbhIB_AAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "dtL16FgJXXfbhIB_AAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "cgus3svDOInWzmXzAAAK"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "cgus3svDOInWzmXzAAAK"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "cgus3svDOInWzmXzAAAK"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "FJI75ljr-gpqeWLOAAAL"
   ]
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "FJI75ljr-gpqeWLOAAAL"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "cgus3svDOInWzmXzAAAK"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "FJI75ljr-gpqeWLOAAAL"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "RxrPM6sL8re8N22kAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "RxrPM6sL8re8N22kAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "FJI75ljr-gpqeWLOAAAL"
]
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "cgus3svDOInWzmXzAAAK"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "RxrPM6sL8re8N22kAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "6cqEjU1oD79Ng5XgAAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "cgus3svDOInWzmXzAAAK"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "6cqEjU1oD79Ng5XgAAAP"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "RxrPM6sL8re8N22kAAAN"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "RxrPM6sL8re8N22kAAAN",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "RxrPM6sL8re8N22kAAAN"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
[
   "RxrPM6sL8re8N22kAAAN",
   "VLaoWpzOryqqEk8WAAAR"
]
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "RxrPM6sL8re8N22kAAAN"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "cgus3svDOInWzmXzAAAK"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "6cqEjU1oD79Ng5XgAAAP"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": []
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "GJmWdm58usx4eNMiAAAT"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= GET SOCKET ============
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "6cqEjU1oD79Ng5XgAAAP"
]
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "GJmWdm58usx4eNMiAAAT"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "0UnQJmg_ceTXPCmOAAAV"
}
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "0UnQJmg_ceTXPCmOAAAV"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "GJmWdm58usx4eNMiAAAT"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "NRe2EJfIhRAjZn6jAAAX"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "0UnQJmg_ceTXPCmOAAAV"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "NRe2EJfIhRAjZn6jAAAX"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "GJmWdm58usx4eNMiAAAT"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "GJmWdm58usx4eNMiAAAT",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "VJ8Cit1lrEAq9fI8AAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "VJ8Cit1lrEAq9fI8AAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "VJ8Cit1lrEAq9fI8AAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Eo9gpgcokUXV28nhAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Eo9gpgcokUXV28nhAAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "Eo9gpgcokUXV28nhAAAL"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "VJ8Cit1lrEAq9fI8AAAJ"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "wkGVr-368gywZMKuAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "wkGVr-368gywZMKuAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "WmO0CQtepfm9YTm0AAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "WmO0CQtepfm9YTm0AAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "wkGVr-368gywZMKuAAAN"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Q0xyWowyTEZcg915AAAR"
   ]
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Q0xyWowyTEZcg915AAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "WmO0CQtepfm9YTm0AAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "wkGVr-368gywZMKuAAAN"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Q0xyWowyTEZcg915AAAR"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "WmO0CQtepfm9YTm0AAAP",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sJG9qc6yfCuqFWpSAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "sJG9qc6yfCuqFWpSAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sJG9qc6yfCuqFWpSAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tk8sOHuPhI8GedHEAAAL"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Tk8sOHuPhI8GedHEAAAL"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sJG9qc6yfCuqFWpSAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tk8sOHuPhI8GedHEAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "H0JcwiVtA8jfoiNWAAAO"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "H0JcwiVtA8jfoiNWAAAO"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "uro9r5QSWha6jvpOAAAH"
   ]
}
========== GET QUERY  ============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "uro9r5QSWha6jvpOAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "uro9r5QSWha6jvpOAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sYebHyj0eTSjQhPBAAAJ"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "sYebHyj0eTSjQhPBAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "uro9r5QSWha6jvpOAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sYebHyj0eTSjQhPBAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "NYEBbKbl1rMR8dNgAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "NYEBbKbl1rMR8dNgAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "uro9r5QSWha6jvpOAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sYebHyj0eTSjQhPBAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "NYEBbKbl1rMR8dNgAAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "uro9r5QSWha6jvpOAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "VUcsuLvavvffMYosAAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
========== GET QUERY  ============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "VUcsuLvavvffMYosAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "VUcsuLvavvffMYosAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "TJM5TR6EzVBHm4I9AAAL"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "TJM5TR6EzVBHm4I9AAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "VUcsuLvavvffMYosAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "TJM5TR6EzVBHm4I9AAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "utBTmPxTg4yWL9VSAAAN"
   ]
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "utBTmPxTg4yWL9VSAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "VUcsuLvavvffMYosAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "TJM5TR6EzVBHm4I9AAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "utBTmPxTg4yWL9VSAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "VUcsuLvavvffMYosAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_3L7Sm3KsAT7sJtlAAAJ"
}
============ USER LOGIN =============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_3L7Sm3KsAT7sJtlAAAJ"
   ]
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_3L7Sm3KsAT7sJtlAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "hYfAJky_ksOm4mnLAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "hYfAJky_ksOm4mnLAAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_3L7Sm3KsAT7sJtlAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "hYfAJky_ksOm4mnLAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "_Kvu50CQe9a5P6XzAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_Kvu50CQe9a5P6XzAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "_3L7Sm3KsAT7sJtlAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
============= GET SOCKET ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "hYfAJky_ksOm4mnLAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "v4UUqLgBPBZt-B_kAAAP"
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "_Kvu50CQe9a5P6XzAAAN"
   ]
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "_Kvu50CQe9a5P6XzAAAN"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "v4UUqLgBPBZt-B_kAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xBp7yJMnEZDF6O3qAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "v4UUqLgBPBZt-B_kAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "xBp7yJMnEZDF6O3qAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "cPNqHa_pqXQmKyrxAAAT"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "v4UUqLgBPBZt-B_kAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "xBp7yJMnEZDF6O3qAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "cPNqHa_pqXQmKyrxAAAT"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "v4UUqLgBPBZt-B_kAAAP",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "D9YoABC4FYivXvL1AAAJ"
   ]
}
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "D9YoABC4FYivXvL1AAAJ"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "D9YoABC4FYivXvL1AAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rdat8HJpjfBOdGlNAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "rdat8HJpjfBOdGlNAAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "D9YoABC4FYivXvL1AAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rdat8HJpjfBOdGlNAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "XQBWJrkx1m_Upw9pAAAN"
   ]
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XQBWJrkx1m_Upw9pAAAN"
}
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "D9YoABC4FYivXvL1AAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "rdat8HJpjfBOdGlNAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "XQBWJrkx1m_Upw9pAAAN"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "D9YoABC4FYivXvL1AAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "YlO1aMFofuHYoJjJAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "YlO1aMFofuHYoJjJAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "YlO1aMFofuHYoJjJAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "jypLXlSqwXed_7umAAAL"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "jypLXlSqwXed_7umAAAL"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "YlO1aMFofuHYoJjJAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "jypLXlSqwXed_7umAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "7lwLERljuzq9DZezAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "7lwLERljuzq9DZezAAAN"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "YlO1aMFofuHYoJjJAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "jypLXlSqwXed_7umAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "7lwLERljuzq9DZezAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "YlO1aMFofuHYoJjJAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zV_jZN6I8HalYmJRAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "zV_jZN6I8HalYmJRAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zV_jZN6I8HalYmJRAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "6fQL5_Q3qQzQbPDLAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "6fQL5_Q3qQzQbPDLAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zV_jZN6I8HalYmJRAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "6fQL5_Q3qQzQbPDLAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "xSmYj4PsQWvEyDXSAAAN"
   ]
}
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xSmYj4PsQWvEyDXSAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zV_jZN6I8HalYmJRAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "6fQL5_Q3qQzQbPDLAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "xSmYj4PsQWvEyDXSAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "zV_jZN6I8HalYmJRAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "giVTQOzWLy3739JCAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "giVTQOzWLy3739JCAAAJ"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "giVTQOzWLy3739JCAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "41UU8M5xr97wX2uFAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "41UU8M5xr97wX2uFAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "41UU8M5xr97wX2uFAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "giVTQOzWLy3739JCAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "OMhcBZjsQt5N_hUfAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "OMhcBZjsQt5N_hUfAAAN"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "giVTQOzWLy3739JCAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "OMhcBZjsQt5N_hUfAAAN"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "fFrjQKcuiXc3LKTzAAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "giVTQOzWLy3739JCAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "fFrjQKcuiXc3LKTzAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "OMhcBZjsQt5N_hUfAAAN"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "giVTQOzWLy3739JCAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "A3wcNT-9255F0hgUAAAJ"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "A3wcNT-9255F0hgUAAAJ"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "A3wcNT-9255F0hgUAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "9lBnGGH1m_yP9RWAAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "9lBnGGH1m_yP9RWAAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "A3wcNT-9255F0hgUAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "9lBnGGH1m_yP9RWAAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "vHA6H_sTOtAL1BrIAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "vHA6H_sTOtAL1BrIAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "A3wcNT-9255F0hgUAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "9lBnGGH1m_yP9RWAAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "vHA6H_sTOtAL1BrIAAAN"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "A3wcNT-9255F0hgUAAAJ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= ROOM NAME ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= GET SOCKET ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "A3wcNT-9255F0hgUAAAJ",
   "oqOO66xxdSDuWZjiAAAP"
]
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "A3wcNT-9255F0hgUAAAJ"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "A3wcNT-9255F0hgUAAAJ"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "9lBnGGH1m_yP9RWAAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "vHA6H_sTOtAL1BrIAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "zWhBXxfff9Ls9GcVAAAR"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "vHA6H_sTOtAL1BrIAAAN"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zWhBXxfff9Ls9GcVAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_FqpTSj0EKbYcIhNAAAT"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zWhBXxfff9Ls9GcVAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "_FqpTSj0EKbYcIhNAAAT"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "6mmkjEEGJ1gWue1aAAAV"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "zWhBXxfff9Ls9GcVAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "_FqpTSj0EKbYcIhNAAAT"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "6mmkjEEGJ1gWue1aAAAV"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "zWhBXxfff9Ls9GcVAAAR",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_GtL9oUHu3B994oIAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_GtL9oUHu3B994oIAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_GtL9oUHu3B994oIAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sJ0DRx_91PnMqpKJAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "sJ0DRx_91PnMqpKJAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_GtL9oUHu3B994oIAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sJ0DRx_91PnMqpKJAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "ldVgKGwKpvoo7LCmAAAM"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ldVgKGwKpvoo7LCmAAAM"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_GtL9oUHu3B994oIAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "sJ0DRx_91PnMqpKJAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "ldVgKGwKpvoo7LCmAAAM"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "_GtL9oUHu3B994oIAAAH",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "_GtL9oUHu3B994oIAAAH",
   "fleouf0RbJTXhzc2AAAO"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "_GtL9oUHu3B994oIAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "_GtL9oUHu3B994oIAAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= ROOM NAME ============
============= DATA DISCONNECT TOP ============
[
   "sJ0DRx_91PnMqpKJAAAJ"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "ldVgKGwKpvoo7LCmAAAM"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "RpIlAVVDovjHXVgCAAAQ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "RpIlAVVDovjHXVgCAAAQ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "5bP-hdjbDnSflWOWAAAS"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "RpIlAVVDovjHXVgCAAAQ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "5bP-hdjbDnSflWOWAAAS"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "qwlPzZF9F8GhtEwKAAAU"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "RpIlAVVDovjHXVgCAAAQ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "5bP-hdjbDnSflWOWAAAS"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "qwlPzZF9F8GhtEwKAAAU"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "RpIlAVVDovjHXVgCAAAQ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SiLv5EDeGoBnSBinAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "SiLv5EDeGoBnSBinAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SiLv5EDeGoBnSBinAAAJ"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "KCZ4Ibnd9RT7uhxLAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "KCZ4Ibnd9RT7uhxLAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SiLv5EDeGoBnSBinAAAJ"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "KCZ4Ibnd9RT7uhxLAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "5WrSLmfWfjY5m9QzAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "5WrSLmfWfjY5m9QzAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SiLv5EDeGoBnSBinAAAJ"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "KCZ4Ibnd9RT7uhxLAAAL"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "5WrSLmfWfjY5m9QzAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "KCZ4Ibnd9RT7uhxLAAAL",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "KCZ4Ibnd9RT7uhxLAAAL",
   "HsqdKUDLzOgIpfR-AAAP"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "KCZ4Ibnd9RT7uhxLAAAL"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "KCZ4Ibnd9RT7uhxLAAAL"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "5WrSLmfWfjY5m9QzAAAN"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SiLv5EDeGoBnSBinAAAJ"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "njdH7hCKCNWWrNkZAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "SiLv5EDeGoBnSBinAAAJ"
]
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "njdH7hCKCNWWrNkZAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "l-fhwymSEjuSPIqEAAAT"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "njdH7hCKCNWWrNkZAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l-fhwymSEjuSPIqEAAAT"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "7yWIy-qIXuSx1OshAAAV"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "7yWIy-qIXuSx1OshAAAV"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "njdH7hCKCNWWrNkZAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l-fhwymSEjuSPIqEAAAT"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "njdH7hCKCNWWrNkZAAAR",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
[
   "7yWIy-qIXuSx1OshAAAV"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "njdH7hCKCNWWrNkZAAAR",
   "vnh6hHEf-ho-blnMAAAX"
]
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "njdH7hCKCNWWrNkZAAAR"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
======== CHECK PRIVATE ROOM =========
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "njdH7hCKCNWWrNkZAAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l-fhwymSEjuSPIqEAAAT"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "dPU-bkek5Yh99r_SAAAZ"
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "dPU-bkek5Yh99r_SAAAZ"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l-fhwymSEjuSPIqEAAAT"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "TbNeEQ91mMN5EHdPAAAb"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_ElOOwAqr7vodI49AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_ElOOwAqr7vodI49AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "kujhnwrH1PrVM95WAAAB"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "kujhnwrH1PrVM95WAAAB"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "kujhnwrH1PrVM95WAAAB"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "pKLcQ-7xWRwRquTAAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "uR-ZZNtDQNZ7wnayAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "uR-ZZNtDQNZ7wnayAAAF"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "uR-ZZNtDQNZ7wnayAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aUfUXTR49duQkmG-AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "aUfUXTR49duQkmG-AAAH"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "uR-ZZNtDQNZ7wnayAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aUfUXTR49duQkmG-AAAH"
   ]
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "aUfUXTR49duQkmG-AAAH",
   "pCvQ-GNnSrf-C99gAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "aUfUXTR49duQkmG-AAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "uR-ZZNtDQNZ7wnayAAAF"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aUfUXTR49duQkmG-AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "SUWLUgwauFR2pH0vAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "SUWLUgwauFR2pH0vAAAL"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aUfUXTR49duQkmG-AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "8x28osg0OZCa_CcKAAAN"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "8x28osg0OZCa_CcKAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "SUWLUgwauFR2pH0vAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ROOM NAME ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= DATA DISCONNECT TOP ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
[
   "8x28osg0OZCa_CcKAAAN"
]
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "aUfUXTR49duQkmG-AAAH"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Ae2FKRdZwxcMUzZ2AAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ae2FKRdZwxcMUzZ2AAAP"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "nJwGev_fwRs_ozidAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ae2FKRdZwxcMUzZ2AAAP"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "nJwGev_fwRs_ozidAAAR"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ksVK3FJdqw1W4rYsAAAT"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ae2FKRdZwxcMUzZ2AAAP"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ksVK3FJdqw1W4rYsAAAT"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "nJwGev_fwRs_ozidAAAR"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "ksVK3FJdqw1W4rYsAAAT",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "ksVK3FJdqw1W4rYsAAAT"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= DATA DISCONNECT TOP ============
[
   "ksVK3FJdqw1W4rYsAAAT",
   "mdJHZ49mQ8sdznkCAAAV"
]
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ae2FKRdZwxcMUzZ2AAAP"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ksVK3FJdqw1W4rYsAAAT"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "nJwGev_fwRs_ozidAAAR"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "ksVK3FJdqw1W4rYsAAAT",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "ksVK3FJdqw1W4rYsAAAT",
   "mI4yAw60wWWfFyN1AAAX"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "ksVK3FJdqw1W4rYsAAAT"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "M6IyNV_gI5RAvwkTAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "M6IyNV_gI5RAvwkTAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "M6IyNV_gI5RAvwkTAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "7wyMusO6nak53Ml-AAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "7wyMusO6nak53Ml-AAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
============= ROOM NAME ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "7wyMusO6nak53Ml-AAAJ"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "M6IyNV_gI5RAvwkTAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "2g_Y8f2yzdr78lb4AAAL"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "M6IyNV_gI5RAvwkTAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "2g_Y8f2yzdr78lb4AAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "M6IyNV_gI5RAvwkTAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "2g_Y8f2yzdr78lb4AAAL",
      "3JS_aOwd9Dpkk7g7AAAN"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "M6IyNV_gI5RAvwkTAAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "2g_Y8f2yzdr78lb4AAAL",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "M6IyNV_gI5RAvwkTAAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "2g_Y8f2yzdr78lb4AAAL",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "M6IyNV_gI5RAvwkTAAAH",
   "DEUu0aRn6wUeLP_lAAAP"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "M6IyNV_gI5RAvwkTAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "2g_Y8f2yzdr78lb4AAAL",
   "3JS_aOwd9Dpkk7g7AAAN"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "2g_Y8f2yzdr78lb4AAAL"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
[
   "M6IyNV_gI5RAvwkTAAAH"
]
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= DATA DISCONNECT TOP ============
[
   "2g_Y8f2yzdr78lb4AAAL"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm1' and password = '123'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "gyRshASbj8E5yEwTAAAB"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "gyRshASbj8E5yEwTAAAB"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm2' and password = '123'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "gyRshASbj8E5yEwTAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "f40WSZiYOqfHdI_NAAAD"
   ]
}
========== GET QUERY  ============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "f40WSZiYOqfHdI_NAAAD"
}
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 2============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "gyRshASbj8E5yEwTAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "f40WSZiYOqfHdI_NAAAD"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "gyRshASbj8E5yEwTAAAB",
      "dE3V2J71d3hmRgo5AAAF"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "f40WSZiYOqfHdI_NAAAD"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "gyRshASbj8E5yEwTAAAB",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "f40WSZiYOqfHdI_NAAAD",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "gyRshASbj8E5yEwTAAAB",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "f40WSZiYOqfHdI_NAAAD",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "gyRshASbj8E5yEwTAAAB"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
[
   "gyRshASbj8E5yEwTAAAB",
   "dE3V2J71d3hmRgo5AAAF"
]
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= GET SOCKET ============
======== CHECK PRIVATE ROOM =========
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "f40WSZiYOqfHdI_NAAAD",
   "d0riVPtKvVRwQ4DCAAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "f40WSZiYOqfHdI_NAAAD"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm2' and password = '123'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "-SRKLF8YKEn7sCtlAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "-SRKLF8YKEn7sCtlAAAF"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "-SRKLF8YKEn7sCtlAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Krz_k6zOF1StzeQdAAAH"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Krz_k6zOF1StzeQdAAAH"
}
============ USER LOGIN =============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
SELECT * FROM dtb_users  WHERE id = 20
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "-SRKLF8YKEn7sCtlAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Krz_k6zOF1StzeQdAAAH"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Krz_k6zOF1StzeQdAAAH",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "-SRKLF8YKEn7sCtlAAAF"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Krz_k6zOF1StzeQdAAAH",
      "iIfgTO1baUVGUj9dAAAJ"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Krz_k6zOF1StzeQdAAAH",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "-SRKLF8YKEn7sCtlAAAF",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "Krz_k6zOF1StzeQdAAAH",
   "iIfgTO1baUVGUj9dAAAJ"
]
{
   "private_room": [
      "Krz_k6zOF1StzeQdAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "-SRKLF8YKEn7sCtlAAAF",
   "dzGAOcDulp_h0_nQAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "-SRKLF8YKEn7sCtlAAAF"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "-SRKLF8YKEn7sCtlAAAF"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Krz_k6zOF1StzeQdAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Tb6OqG4b3-tgtdBdAAAN"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "Krz_k6zOF1StzeQdAAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tb6OqG4b3-tgtdBdAAAN"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": []
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "f3ObVB5rg4Jt-6ZgAAAS"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= GET SOCKET ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
[
   "f3ObVB5rg4Jt-6ZgAAAS"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tb6OqG4b3-tgtdBdAAAN"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": []
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "QmtdiYNZyYYJz8yWAAAU"
}
============= ADD PRIVATE ROOM OBJECT 1============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= ROOM NAME ============
[
   "QmtdiYNZyYYJz8yWAAAU"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tb6OqG4b3-tgtdBdAAAN"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": []
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "5SoLcHNaeoMQf0-MAAAW"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tb6OqG4b3-tgtdBdAAAN"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "5SoLcHNaeoMQf0-MAAAW"
   ]
}
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Tb6OqG4b3-tgtdBdAAAN"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "5SoLcHNaeoMQf0-MAAAW",
      "70qstNEatbtIIy1ZAAAa"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "5SoLcHNaeoMQf0-MAAAW",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Tb6OqG4b3-tgtdBdAAAN",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "5SoLcHNaeoMQf0-MAAAW",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Tb6OqG4b3-tgtdBdAAAN",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
============= GET SOCKET ============
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= DATA DISCONNECT TOP ============
[
   "Tb6OqG4b3-tgtdBdAAAN",
   "RvUA5CaBNgIrYMFIAAAZ"
]
{
   "private_room": [
      "Tb6OqG4b3-tgtdBdAAAN"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "5SoLcHNaeoMQf0-MAAAW",
   "70qstNEatbtIIy1ZAAAa"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "5SoLcHNaeoMQf0-MAAAW"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "Tb6OqG4b3-tgtdBdAAAN"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "5SoLcHNaeoMQf0-MAAAW"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "NMPi0bSwqVi-aDDaAAAc"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "5SoLcHNaeoMQf0-MAAAW"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NMPi0bSwqVi-aDDaAAAc"
   ],
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": []
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "gXvbOmQBuwacO2lAAAAe"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i1ZgOpdmrq21F1YwAAAH"
   ]
}
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "i1ZgOpdmrq21F1YwAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i1ZgOpdmrq21F1YwAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "dmQ2qE44LIoOP9DbAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "dmQ2qE44LIoOP9DbAAAJ"
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i1ZgOpdmrq21F1YwAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "dmQ2qE44LIoOP9DbAAAJ",
      "wRMbgsyOB0rEyIlgAAAL"
   ]
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i1ZgOpdmrq21F1YwAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "dmQ2qE44LIoOP9DbAAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "i1ZgOpdmrq21F1YwAAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "dmQ2qE44LIoOP9DbAAAJ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "i1ZgOpdmrq21F1YwAAAH",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "dmQ2qE44LIoOP9DbAAAJ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "i1ZgOpdmrq21F1YwAAAH",
   "Rl0u9tVlRTi_tMYRAAAN"
]
{
   "private_room": [
      "i1ZgOpdmrq21F1YwAAAH"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "dmQ2qE44LIoOP9DbAAAJ",
   "wRMbgsyOB0rEyIlgAAAL"
]
{
   "private_room": [
      "dmQ2qE44LIoOP9DbAAAJ"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "dmQ2qE44LIoOP9DbAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "i1ZgOpdmrq21F1YwAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "7Jy0TuM7-R0AN_RQAAAP"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= DATA DISCONNECT TOP ============
[
   "i1ZgOpdmrq21F1YwAAAH"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm1' and password = '123'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "7Jy0TuM7-R0AN_RQAAAP"
   ]
}
========== GET QUERY  ============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "aU66yiXtJ_QppQElAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "7Jy0TuM7-R0AN_RQAAAP"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aU66yiXtJ_QppQElAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "IhxZ0_16K8nghVcAAAAT"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aU66yiXtJ_QppQElAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "IhxZ0_16K8nghVcAAAAT"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "aU66yiXtJ_QppQElAAAR"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "IhxZ0_16K8nghVcAAAAT",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aU66yiXtJ_QppQElAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "IhxZ0_16K8nghVcAAAAT",
      "2bOOCclH8mj7U9RsAAAW"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "aU66yiXtJ_QppQElAAAR",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "IhxZ0_16K8nghVcAAAAT",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "aU66yiXtJ_QppQElAAAR",
   "-W9kM0VNVp7Xw04wAAAX"
]
{
   "private_room": [
      "aU66yiXtJ_QppQElAAAR"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "IhxZ0_16K8nghVcAAAAT",
   "2bOOCclH8mj7U9RsAAAW"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "IhxZ0_16K8nghVcAAAAT"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm3' and password = '123'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aU66yiXtJ_QppQElAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "IhxZ0_16K8nghVcAAAAT"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "_93NV5Hbzy1hGw1UAAAZ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_93NV5Hbzy1hGw1UAAAZ"
}
============ USER LOGIN =============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
[
   "IhxZ0_16K8nghVcAAAAT"
]
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "aU66yiXtJ_QppQElAAAR"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "_93NV5Hbzy1hGw1UAAAZ"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XbwlxArUY7Hh5JKSAAAb"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "XbwlxArUY7Hh5JKSAAAb"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
[
   "_93NV5Hbzy1hGw1UAAAZ"
]
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm1' and password = '123'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "r658LJyESUP0WDpnAAAB"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm2' and password = '123'
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ]
}
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "NZVLfRVFLQchDS5_AAAD"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'undefined' and password = 'undefined'
SELECT id,username, fullname, peer_id FROM dtb_users  WHERE username = 'usm3' and password = '123'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Ezhu92AlpPrU6VwvAAAF"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "NZVLfRVFLQchDS5_AAAD"
   }
}
========== ME JOIN ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB",
      "FXclBzlPpSD3WlVgAAAJ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "NZVLfRVFLQchDS5_AAAD",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
[
   "r658LJyESUP0WDpnAAAB",
   "FXclBzlPpSD3WlVgAAAJ"
]
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "NZVLfRVFLQchDS5_AAAD",
   "DI1TnZfBmL_ZmMUUAAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB",
      "OJJgi1mobT4Yrft7AAAL"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Ezhu92AlpPrU6VwvAAAF",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Ezhu92AlpPrU6VwvAAAF",
      "callroom": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   }
}
SELECT * FROM dtb_rooms  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 20
SELECT * FROM dtb_rooms  WHERE room_id = '62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 23
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
============= DATA DISCONNECT TOP ============
[
   "r658LJyESUP0WDpnAAAB",
   "OJJgi1mobT4Yrft7AAAL"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
{
   "private_room": [
      "Ezhu92AlpPrU6VwvAAAF"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
[
   "Ezhu92AlpPrU6VwvAAAF",
   "CV2-yLEZ2FlIW43KAAAN"
]
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB",
      "1L4hRjseyiyp-ZNKAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "NZVLfRVFLQchDS5_AAAD",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB",
      "1L4hRjseyiyp-ZNKAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD",
      "fC-GYeUgt9yr_tRNAAAR"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "Ezhu92AlpPrU6VwvAAAF"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "r658LJyESUP0WDpnAAAB",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "NZVLfRVFLQchDS5_AAAD",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "Ezhu92AlpPrU6VwvAAAF",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "NZVLfRVFLQchDS5_AAAD",
   "fC-GYeUgt9yr_tRNAAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "Ezhu92AlpPrU6VwvAAAF",
   "fJ2OKtSQ3uoKzkEHAAAT"
]
{
   "private_room": [
      "Ezhu92AlpPrU6VwvAAAF"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= DATA DISCONNECT TOP ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= GET SOCKET ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "r658LJyESUP0WDpnAAAB",
   "1L4hRjseyiyp-ZNKAAAP"
]
======== CHECK PRIVATE ROOM =========
============= ROOM NAME ============
{
   "private_room": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= DATA DISCONNECT TOP ============
============= GET SOCKET ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
======== CHECK PRIVATE ROOM =========
[
   "Ezhu92AlpPrU6VwvAAAF"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "r658LJyESUP0WDpnAAAB"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "UITqbt29-r_iunE-AAAV"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "r658LJyESUP0WDpnAAAB"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "NZVLfRVFLQchDS5_AAAD"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UITqbt29-r_iunE-AAAV"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "2fNdFSjVRDUFPvf_AAAX"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "NZVLfRVFLQchDS5_AAAD"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "2fNdFSjVRDUFPvf_AAAX"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UITqbt29-r_iunE-AAAV"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "MV-X5j10ta7I88BuAAAZ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "MV-X5j10ta7I88BuAAAZ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "2fNdFSjVRDUFPvf_AAAX"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UITqbt29-r_iunE-AAAV"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "X2LQ2Wy6Y6QmiIx1AAAb"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "2fNdFSjVRDUFPvf_AAAX"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "X2LQ2Wy6Y6QmiIx1AAAb"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UITqbt29-r_iunE-AAAV"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "OR_LIbLwprDzZITPAAAd"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "X2LQ2Wy6Y6QmiIx1AAAb"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "OR_LIbLwprDzZITPAAAd"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "UITqbt29-r_iunE-AAAV"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Fwe2h1Pd722MYqwBAAAf"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
[
   "UITqbt29-r_iunE-AAAV"
]
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "OR_LIbLwprDzZITPAAAd"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Fwe2h1Pd722MYqwBAAAf"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "9_0GMQ2jhWgZwccVAAAh"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= GET SOCKET ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
============= DATA DISCONNECT TOP ============
[
   "9_0GMQ2jhWgZwccVAAAh"
]
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "OR_LIbLwprDzZITPAAAd"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Fwe2h1Pd722MYqwBAAAf"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "P-n3yBQhidogdVvgAAAj"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "QTfbuMNpXTHnfAsGAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "QTfbuMNpXTHnfAsGAAAH"
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "QTfbuMNpXTHnfAsGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "xarr4Uk7lqyxypN6AAAJ"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xarr4Uk7lqyxypN6AAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = b25b69b2-f526-43e6-8c12-6bb0c9760ae8
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "_Ck6hR_FEy-zUB8tAAAH"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "_Ck6hR_FEy-zUB8tAAAH"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname  FROM dtb_users  WHERE  id = b25b69b2-f526-43e6-8c12-6bb0c9760ae8
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "REnPWxDzaU5gILD-AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "REnPWxDzaU5gILD-AAAH"
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "REnPWxDzaU5gILD-AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Zb1iLKDaOggDV3L6AAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Zb1iLKDaOggDV3L6AAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sn6F8c0-hTiRC0iGAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "sn6F8c0-hTiRC0iGAAAH"
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "sn6F8c0-hTiRC0iGAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "9CYPUmwZ41BqCnynAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "9CYPUmwZ41BqCnynAAAJ"
}
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ZxtF6sEp-hszKsj4AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ZxtF6sEp-hszKsj4AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ZxtF6sEp-hszKsj4AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "84nV0lHl2nJ3RhqZAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "84nV0lHl2nJ3RhqZAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "84nV0lHl2nJ3RhqZAAAJ"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ZxtF6sEp-hszKsj4AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "xv2VSwhx3KGiGS4pAAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "xv2VSwhx3KGiGS4pAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ZxtF6sEp-hszKsj4AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "1zO0G24e00l-HWyrAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "ZxtF6sEp-hszKsj4AAAH"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "1zO0G24e00l-HWyrAAAN"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "wDC8On-ADE-XooZJAAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wDC8On-ADE-XooZJAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "1zO0G24e00l-HWyrAAAN"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "7BNP3glFJ5E2hXXQAAAR"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "7BNP3glFJ5E2hXXQAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= GET SOCKET ============
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "1zO0G24e00l-HWyrAAAN"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wDC8On-ADE-XooZJAAAP"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "7BNP3glFJ5E2hXXQAAAR"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "mL6DpDK0znFJQIrvAAAT"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "wDC8On-ADE-XooZJAAAP"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "mL6DpDK0znFJQIrvAAAT"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "7BNP3glFJ5E2hXXQAAAR"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "nO-qC7xyMZ_zQweNAAAV"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
============= ROOM NAME ============
[
   "mL6DpDK0znFJQIrvAAAT"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "nO-qC7xyMZ_zQweNAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "7BNP3glFJ5E2hXXQAAAR"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "l4MqH3EoyuUsDOq-AAAX"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
[
   "7BNP3glFJ5E2hXXQAAAR"
]
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "nO-qC7xyMZ_zQweNAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "l4MqH3EoyuUsDOq-AAAX"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "l2iKdaBlQKWxFSeaAAAZ"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "l4MqH3EoyuUsDOq-AAAX"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "nO-qC7xyMZ_zQweNAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l2iKdaBlQKWxFSeaAAAZ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "VxV8sylLpHhyk-LOAAAb"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
[
   "l2iKdaBlQKWxFSeaAAAZ"
]
============= DATA DISCONNECT TOP ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
======== CHECK PRIVATE ROOM =========
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "nO-qC7xyMZ_zQweNAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "VxV8sylLpHhyk-LOAAAb"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "l_S8TS8WDK76fbeyAAAd"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "VxV8sylLpHhyk-LOAAAb"
]
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "nO-qC7xyMZ_zQweNAAAV"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l_S8TS8WDK76fbeyAAAd"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "qrNWN9JgJSKsL40CAAAf"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "nO-qC7xyMZ_zQweNAAAV"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "qrNWN9JgJSKsL40CAAAf"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "l_S8TS8WDK76fbeyAAAd"
   ]
}
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "dNsjJocnMBp05qioAAAh"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Q3ahJTPF6lCPMbV6AAAH"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Q3ahJTPF6lCPMbV6AAAH"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Q3ahJTPF6lCPMbV6AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "o59BWlSM-8Cz8snNAAAJ"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "o59BWlSM-8Cz8snNAAAJ"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Q3ahJTPF6lCPMbV6AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "o59BWlSM-8Cz8snNAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "XUEW9bFEfxUNvLyXAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XUEW9bFEfxUNvLyXAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "o59BWlSM-8Cz8snNAAAJ"
]
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
============= ROOM NAME ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "Q3ahJTPF6lCPMbV6AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "XUEW9bFEfxUNvLyXAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "MJb2slOYHvSo3nG7AAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9ARbx3bB6gp4BwHpAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "9ARbx3bB6gp4BwHpAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9ARbx3bB6gp4BwHpAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "ZRZrOjnuHyA-YVRUAAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ZRZrOjnuHyA-YVRUAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9ARbx3bB6gp4BwHpAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "ZRZrOjnuHyA-YVRUAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "fcHcGgHsUBw6pw1uAAAL"
   ]
}
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "fcHcGgHsUBw6pw1uAAAL"
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "ZRZrOjnuHyA-YVRUAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9ARbx3bB6gp4BwHpAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "fcHcGgHsUBw6pw1uAAAL"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "R5ueMSsvp4rKD2ffAAAN"
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "PHTWD-YBstbv_qQSAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "PHTWD-YBstbv_qQSAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8pe0f0y3rtrsTdgHAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "8pe0f0y3rtrsTdgHAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8pe0f0y3rtrsTdgHAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KiNz2_Z5uYvyGwtHAAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "KiNz2_Z5uYvyGwtHAAAJ"
}
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8pe0f0y3rtrsTdgHAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "KiNz2_Z5uYvyGwtHAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mQ7vRTNa8zddtuKFAAAL"
   ]
}
============= ADD PRIVATE ROOM OBJECT 2============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "mQ7vRTNa8zddtuKFAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= GET SOCKET ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "KiNz2_Z5uYvyGwtHAAAJ"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
============= ROOM NAME ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "8pe0f0y3rtrsTdgHAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mQ7vRTNa8zddtuKFAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "PNeoe02pIDMiYDcyAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TZ2h_KYxI3lz4WgMAAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "TZ2h_KYxI3lz4WgMAAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TZ2h_KYxI3lz4WgMAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "vj3bykjNa_zTiUtZAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "vj3bykjNa_zTiUtZAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TZ2h_KYxI3lz4WgMAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "vj3bykjNa_zTiUtZAAAJ"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "THHbhttLXz1kn_SYAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "THHbhttLXz1kn_SYAAAL"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= GET SOCKET ============
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
======== CHECK PRIVATE ROOM =========
[
   "vj3bykjNa_zTiUtZAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "TZ2h_KYxI3lz4WgMAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "THHbhttLXz1kn_SYAAAL"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "FWQVz6kMMdGtx4iOAAAN"
}
============= ADD PRIVATE ROOM OBJECT 1============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ruWRaS0CtqcazPhpAAAH"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "ruWRaS0CtqcazPhpAAAH"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "ruWRaS0CtqcazPhpAAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "tfil8FJE1rdlXy_-AAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "tfil8FJE1rdlXy_-AAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "ruWRaS0CtqcazPhpAAAH"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "tfil8FJE1rdlXy_-AAAJ"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "njo4adOC9UfoAQJPAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "tfil8FJE1rdlXy_-AAAJ"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "njo4adOC9UfoAQJPAAAL"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "tbwSU_NkaGwp6h9iAAAN"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "tbwSU_NkaGwp6h9iAAAN"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "njo4adOC9UfoAQJPAAAL"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Pu-53htCmoDEz3WVAAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "njo4adOC9UfoAQJPAAAL"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Pu-53htCmoDEz3WVAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "f7Ykwu-OYPAr8u5OAAAR"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============ USER LOGIN =============
========== GET QUERY  ============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "f7Ykwu-OYPAr8u5OAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
[
   "njo4adOC9UfoAQJPAAAL"
]
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Pu-53htCmoDEz3WVAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "f7Ykwu-OYPAr8u5OAAAR"
   ]
}
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "T3NQYp0XpdJnRYRvAAAT"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
[
   "Pu-53htCmoDEz3WVAAAP"
]
============= DATA DISCONNECT TOP ============
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "T3NQYp0XpdJnRYRvAAAT"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "f7Ykwu-OYPAr8u5OAAAR"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "MeKvxXO0042VwQNYAAAV"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "f7Ykwu-OYPAr8u5OAAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "T3NQYp0XpdJnRYRvAAAT"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "MeKvxXO0042VwQNYAAAV"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "Ukar7rkZ0qLvvHXPAAAX"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9vnbh3RsmpZ4hf86AAAH"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "9vnbh3RsmpZ4hf86AAAH"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9vnbh3RsmpZ4hf86AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "fdkPSfqZerwDjY8lAAAJ"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "fdkPSfqZerwDjY8lAAAJ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= GET SOCKET ============
============= ROOM NAME ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "fdkPSfqZerwDjY8lAAAJ"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "9vnbh3RsmpZ4hf86AAAH"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "GWzN0KcOeNZO89vHAAAL"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "9vnbh3RsmpZ4hf86AAAH"
]
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
SELECT * FROM dtb_rooms  WHERE  room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "GWzN0KcOeNZO89vHAAAL"
   ]
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============ USER LOGIN =============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "wK2k_OHihlgc2B-5AAAN"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
========== GET QUERY  ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
[
   "GWzN0KcOeNZO89vHAAAL"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wK2k_OHihlgc2B-5AAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": []
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "QzT0zdjywkRMbrDcAAAP"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
============= ADD PRIVATE ROOM OBJECT 2============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wK2k_OHihlgc2B-5AAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "QzT0zdjywkRMbrDcAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mWuoGUZcMOD_UlMOAAAR"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "mWuoGUZcMOD_UlMOAAAR"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wK2k_OHihlgc2B-5AAAN"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "QzT0zdjywkRMbrDcAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mWuoGUZcMOD_UlMOAAAR"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "wK2k_OHihlgc2B-5AAAN",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wK2k_OHihlgc2B-5AAAN",
      "82g5dtKCsmi0bK2IAAAT"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "QzT0zdjywkRMbrDcAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mWuoGUZcMOD_UlMOAAAR"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "wK2k_OHihlgc2B-5AAAN",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "mWuoGUZcMOD_UlMOAAAR",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "wK2k_OHihlgc2B-5AAAN",
      "82g5dtKCsmi0bK2IAAAT"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "QzT0zdjywkRMbrDcAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mWuoGUZcMOD_UlMOAAAR",
      "F6BuRhYCRPnsBGiaAAAV"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "wK2k_OHihlgc2B-5AAAN",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "QzT0zdjywkRMbrDcAAAP",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "mWuoGUZcMOD_UlMOAAAR",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
======== CHECK PRIVATE ROOM =========
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= ROOM NAME ============
[
   "QzT0zdjywkRMbrDcAAAP",
   "LWtoqKCwny3EWSSfAAAX"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "QzT0zdjywkRMbrDcAAAP"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "mWuoGUZcMOD_UlMOAAAR"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
[
   "mWuoGUZcMOD_UlMOAAAR",
   "F6BuRhYCRPnsBGiaAAAV"
]
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "wK2k_OHihlgc2B-5AAAN",
   "82g5dtKCsmi0bK2IAAAT"
]
{
   "private_room": [
      "wK2k_OHihlgc2B-5AAAN"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": 20,
   "another_rooms": [
      "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "wK2k_OHihlgc2B-5AAAN"
]
======== CHECK PRIVATE ROOM =========
{
   "private_room": [],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": 20,
      "another_rooms": [
         "14011d49-3d2a-4a3a-93be-5a5e7ec26efa"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '14011d49-3d2a-4a3a-93be-5a5e7ec26efa'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '20'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 20 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '20'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '20'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "QzT0zdjywkRMbrDcAAAP"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mWuoGUZcMOD_UlMOAAAR"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
   "user_id": 20,
   "username": "usm1",
   "fullname": "Nguyễn Văn A",
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XU-tbEtJFnysUGm4AAAZ"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 20
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
============= DATA DISCONNECT TOP ============
[
   "QzT0zdjywkRMbrDcAAAP"
]
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "mWuoGUZcMOD_UlMOAAAR"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "XelMCjPlBv9hGEvyAAAb"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
[
   "mWuoGUZcMOD_UlMOAAAR"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "XelMCjPlBv9hGEvyAAAb"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "w7DS47MozRF07uFQAAAd"
}
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "XelMCjPlBv9hGEvyAAAb"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "w7DS47MozRF07uFQAAAd"
   ]
}
{
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XelMCjPlBv9hGEvyAAAb",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "XelMCjPlBv9hGEvyAAAb",
   "Y9ef_WHF_0morIy_AAAf"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "Y9ef_WHF_0morIy_AAAf"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "Y9ef_WHF_0morIy_AAAf"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "w7DS47MozRF07uFQAAAd"
   ]
}
============ USER LOGIN =============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "saHyw3s8Z30QigR3AAAh",
   "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "Y9ef_WHF_0morIy_AAAf",
   "saHyw3s8Z30QigR3AAAh"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "saHyw3s8Z30QigR3AAAh"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": 21,
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "saHyw3s8Z30QigR3AAAh"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": 21,
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '21'
========== GET QUERY  ============
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 21 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '21'
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "w7DS47MozRF07uFQAAAd"
   ]
}
========== GET QUERY  ============
{
   "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
   "user_id": 21,
   "username": "usm2",
   "fullname": "Nguyễn Văn B",
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "SJKX35MPyAmhNthbAAAj"
}
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '21'
============ USER LOGIN =============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 21
SELECT * FROM dtb_rooms  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
========== GET QUERY  ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SJKX35MPyAmhNthbAAAj"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "w7DS47MozRF07uFQAAAd"
   ]
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SJKX35MPyAmhNthbAAAj",
      "v-MsDd8bA5MpC7zrAAAl"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "w7DS47MozRF07uFQAAAd"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XU-tbEtJFnysUGm4AAAZ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "SJKX35MPyAmhNthbAAAj",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XU-tbEtJFnysUGm4AAAZ",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "SJKX35MPyAmhNthbAAAj",
      "callroom": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   }
}
========== ME JOIN ============
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
======== CHECK PRIVATE ROOM =========
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
[
   "XU-tbEtJFnysUGm4AAAZ",
   "S7KvhwhZgZeBal8UAAAn"
]
{
   "private_room": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "SJKX35MPyAmhNthbAAAj",
   "v-MsDd8bA5MpC7zrAAAl"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "SJKX35MPyAmhNthbAAAj"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "b25b69b2-f526-43e6-8c12-6bb0c9760ae8"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = 'b25b69b2-f526-43e6-8c12-6bb0c9760ae8'
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": 23,
   "another_rooms": [
      "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
   ]
}
======== CHECK PRIVATE ROOM =========
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
============= ROOM NAME ============
============= DATA DISCONNECT TOP ============
[
   "w7DS47MozRF07uFQAAAd"
]
{
   "private_room": [],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": 23,
      "another_rooms": [
         "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f'
========== GET QUERY  ============
SELECT  id ,username, fullname, peer_id, private_room  FROM dtb_users  WHERE  id != '23'
SELECT dtb_rooms.room_id, dtb_rooms.room_name, dtb_rooms.type as room_type, dtb_rooms.user_id as master_room_user_id,
                     dtb_rooms_users.user_id as join_room_user_id,
                     dtb_alert.request_user_id as alert_request_user_id, 
                     dtb_alert.accept as alert_accept,
                     dtb_alert.cancel as alert_cancel,
                     dtb_alert.type as alert_type, 
                     dtb_alert.active as alert_active,
                     dtb_alert.waiting as alert_waiting  FROM dtb_rooms  LEFT JOIN dtb_rooms_users ON dtb_rooms_users.room_id = dtb_rooms.room_id AND dtb_rooms_users.user_id = 23 LEFT JOIN dtb_alert ON dtb_alert.room_id = dtb_rooms_users.room_id WHERE   dtb_rooms.type != "PRIVATE_ROOM"   GROUP BY dtb_rooms.room_id
========== GET QUERY  ============
SELECT * FROM dtb_alert  WHERE request_user_id != '23'
========== GET QUERY  ============
========== GET QUERY  ============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SJKX35MPyAmhNthbAAAj"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": []
}
{
   "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
   "user_id": 23,
   "username": "usm3",
   "fullname": "Nguyễn Văn C",
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "options": {
      "camera": true,
      "microphone": true
   },
   "socket_id": "BO5nXTpcBrzobfZgAAAp"
}
============= ADD PRIVATE ROOM OBJECT 1============
============ USER LOGIN =============
SELECT  id ,username, fullname, peer_id, private_room FROM dtb_users  WHERE  id = '23'
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE  user_id = 23
SELECT * FROM dtb_rooms  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms_users  WHERE room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
========== GET QUERY  ============
SELECT * FROM dtb_users  WHERE id = 21
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SJKX35MPyAmhNthbAAAj"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "BO5nXTpcBrzobfZgAAAp"
   ]
}
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XU-tbEtJFnysUGm4AAAZ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
========== ME JOIN ============
============= ADD PRIVATE ROOM OBJECT 1============
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ",
      "Lyhq1ppw0iTJpoi-AAAr"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SJKX35MPyAmhNthbAAAj"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "BO5nXTpcBrzobfZgAAAp"
   ]
}
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XU-tbEtJFnysUGm4AAAZ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "SJKX35MPyAmhNthbAAAj",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
{
   "14011d49-3d2a-4a3a-93be-5a5e7ec26efa": [
      "XU-tbEtJFnysUGm4AAAZ",
      "Lyhq1ppw0iTJpoi-AAAr"
   ],
   "b25b69b2-f526-43e6-8c12-6bb0c9760ae8": [
      "SJKX35MPyAmhNthbAAAj",
      "nR22Bx9f7eeyBsvuAAAt"
   ],
   "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f": [
      "BO5nXTpcBrzobfZgAAAp"
   ]
}
============= ADD PRIVATE ROOM OBJECT 1============
========== ME JOIN ============
{
   "20": {
      "peer_id": "a771d5a9-eacc-4800-99f7-24720bc11ecd",
      "user_id": 20,
      "username": "usm1",
      "fullname": "Nguyễn Văn A",
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "room_id": "663a5517-46da-42f8-9081-65efb1fb2b49",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "XU-tbEtJFnysUGm4AAAZ",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "21": {
      "peer_id": "445a0866-1504-46b8-85d7-5981c6c1c459",
      "user_id": 21,
      "username": "usm2",
      "fullname": "Nguyễn Văn B",
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "room_id": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "SJKX35MPyAmhNthbAAAj",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   },
   "23": {
      "peer_id": "896cc5e8-1d1d-4c47-9d07-2089de8503a2",
      "user_id": 23,
      "username": "usm3",
      "fullname": "Nguyễn Văn C",
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "room_id": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "options": {
         "camera": true,
         "microphone": true
      },
      "socket_id": "BO5nXTpcBrzobfZgAAAp",
      "callroom": "663a5517-46da-42f8-9081-65efb1fb2b49"
   }
}
============= GET SOCKET ============
{
   "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
   "user_id": "23",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f
======== CHECK PRIVATE ROOM =========
============= DATA DISCONNECT TOP ============
[
   "BO5nXTpcBrzobfZgAAAp",
   "FKfmzH-ziAZt-H5yAAAv"
]
{
   "private_room": [
      "BO5nXTpcBrzobfZgAAAp"
   ],
   "user": {
      "private_room": "62c4eec7-ecfd-43e6-a2ac-fbb2ecce1e0f",
      "user_id": "23",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
============= GET SOCKET ============
{
   "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
   "user_id": "21",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
b25b69b2-f526-43e6-8c12-6bb0c9760ae8
======== CHECK PRIVATE ROOM =========
[
   "SJKX35MPyAmhNthbAAAj",
   "nR22Bx9f7eeyBsvuAAAt"
]
{
   "private_room": [
      "SJKX35MPyAmhNthbAAAj"
   ],
   "user": {
      "private_room": "b25b69b2-f526-43e6-8c12-6bb0c9760ae8",
      "user_id": "21",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
============= DATA DISCONNECT TOP ============
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
============= GET SOCKET ============
{
   "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
   "user_id": "20",
   "another_rooms": [
      "663a5517-46da-42f8-9081-65efb1fb2b49"
   ]
}
============= ROOM NAME ============
14011d49-3d2a-4a3a-93be-5a5e7ec26efa
======== CHECK PRIVATE ROOM =========
[
   "XU-tbEtJFnysUGm4AAAZ",
   "Lyhq1ppw0iTJpoi-AAAr"
]
============= DATA DISCONNECT TOP ============
{
   "private_room": [
      "XU-tbEtJFnysUGm4AAAZ"
   ],
   "user": {
      "private_room": "14011d49-3d2a-4a3a-93be-5a5e7ec26efa",
      "user_id": "20",
      "another_rooms": [
         "663a5517-46da-42f8-9081-65efb1fb2b49"
      ]
   }
}
========== GET QUERY  ============
SELECT * FROM dtb_rooms  WHERE  room_id = '663a5517-46da-42f8-9081-65efb1fb2b49'
